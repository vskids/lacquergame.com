@import "/fonts/cabin.less";
@import "/fonts/cabin-condensed.less";
@import "/fonts/cabin-sketch.less";
@import "/fonts/calligraffitti.less";
@import "/fonts/codystar.less";
@import "/fonts/dancing-script.less";
@import "/fonts/fredericka-the-great.less";
@import "/fonts/indie-flower.less";
@import "/fonts/megrim.less";
@import "/fonts/oswald.less";



/// Bootstrap default overrides

@font-size-base: 20px;



// full-screen-height adjustments, rules

html, body { height: 100%; }

@screenheights: 50%, 100%, 150%, 200%, 300%, 400%;
.generate-screenheights(@screenheights, vh-);

.monologue {
	@font-size: (@font-size-base * 2.5);
	.font_dancing-script(@font-size);
}



// phases

.phase {
	position: relative;
	
	> .back {
		z-index: -1;
		
		&, & .back {
			position: absolute;
			width: 100%; height: 100%;
			
			&.fixed {
				position: fixed;
			}
		}
	}
}
#sky-phase {
	.phase;
	z-index: 100;
	
	color: @cobalt;
	
	> .back {
		&, & .back {
			&.fill {
				background-color: @blue-darker;
				#gradient > .vertical(@cobalt-darker, @blue-darker);
			}
		}
	}
}
#ambitions-phase {
	.phase;
	z-index: 200;
	
	color: white;
	
	> .back {
		&, & .back {
			&.fill {
				background-color: @purple-darker;
				#gradient > .vertical(@purple-dark, @teal-darker);
			}
		}
	}
}
#title-phase {
	.phase;
	z-index: 300;
	
	color: @purple-darker;
	
	> .back {
		&, & .back {
			&.fill {
				background-color: @cobalt-light;
				#gradient > .vertical(white, @cobalt-light);
			}
		}
	}
}



// starfields

@starfieldScrollOffsetBase: 500%;

.generateStarfieldRules(@uniqueName; @initialOpacity; @endOpacity; @initialScrollOffsetFactor; @endScrollOffsetFactor; @opacityEasing; @bgEasing) {
	&:extend(.starfield all);
	
	& when not (@initialOpacity = 1.0) and (@endOpacity = 1.0) {
		.opacity(@initialOpacity);
		
		.-skrollr-dry-animation(~"@{uniqueName}-op"; {
			@opacityProp: ~"opacity[@{opacityEasing}]";
			_sky_phase_start { @{opacityProp}: @initialOpacity; }
			_sky_phase_end { @{opacityProp}: @endOpacity }
		});
	}
	
	&.image, & .image {
		@initialScrollOffset: (@starfieldScrollOffsetBase * @initialScrollOffsetFactor);
		@endScrollOffset: (@starfieldScrollOffsetBase * @endScrollOffsetFactor);
		background-position: 0px @initialScrollOffset;
		
		.-skrollr-dry-animation(~"@{uniqueName}-pos"; {
			@backgroundPositionProp: ~"background-position[@{bgEasing}]";
			_sky_phase_start { @{backgroundPositionProp}: 0px @initialScrollOffset; }
			_sky_phase_end { @{backgroundPositionProp}: 0px @endScrollOffset; }
		});
	}
}

.starfield {
	&.image, & .image {
		background-repeat: repeat;
	}
}

#starfield1 {
	.generateStarfieldRules(
		starfield1;
		1.0; 1.0;
		0.0; 0.15;
		linear; linear
	);
	&.image, & .image {
		background-image: url('../graphics/starfield1.s512.png');
	}
}
#starfield2 {
	.generateStarfieldRules(
		starfield2;
		0.0; 1.0;
		0.0; 0.333;
		linearMidToEnd; linear
	);
	&.image, & .image {
		background-image: url('../graphics/starfield2.s1024.png');
	}
}
#starfield3 {
	.generateStarfieldRules(
		starfield3;
		0.0; 1.0;
		0.0; 0.5;
		linearMidToEnd; linear
	);
	&.image, & .image {
		background-image: url('../graphics/starfield3.s720.png');
	}
}
#starfield4 {
	.generateStarfieldRules(
		starfield4;
		0.25; 1.0;
		0.0; 0.25;
		linearStartToMid; linear
	);
	&.image, & .image {
		background-image: url('../graphics/starfield4.s700.png');
	}
}
